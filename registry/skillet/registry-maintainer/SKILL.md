---
name: registry-maintainer
description: Creating and maintaining skill registries. Covers setup, directory layout, PR review, multi-registry, and hosting.
---

## Registry Maintainer Guide

A skill registry is a git repo with a flat directory structure of skillpacks.
Anyone can create one. Skillet is the tool, registries are data.

### Creating a Registry

```bash
skillet init-registry path/to/my-registry
skillet init-registry path/to/my-registry --name "My Registry" --description "Team skills"
skillet init-registry path/to/my-registry --legacy   # generates config.toml instead of skillet.toml
```

This creates a git repo with:
- `skillet.toml` (or `config.toml` with `--legacy`) -- registry metadata
- `README.md` -- instructions for contributors
- `.gitignore`
- An initial commit

### Directory Layout

```
my-registry/
  skillet.toml          # registry config
  owner1/skill-a/       # flat: owner/name
    skill.toml
    SKILL.md
  owner1/skill-b/
    skill.toml
    SKILL.md
  owner2/tool/
    skill.toml
    SKILL.md
```

Nested paths are also supported (e.g. `acme/lang/java/maven-build/`).
The skill's `owner` and `name` fields in `skill.toml` are authoritative;
the directory path is for organization.

### Registry Configuration

**skillet.toml** (preferred):

```toml
[registry]
name = "my-registry"
version = 1
description = "Team skills for our org"

[registry.maintainer]
name = "Jane Doe"
github = "janedoe"
email = "jane@example.com"

[[registry.suggests]]
url = "https://github.com/joshrotenberg/skillet.git"
description = "Official community skills"

[registry.defaults]
refresh_interval = "10m"
```

**config.toml** (legacy format): same `[registry]` section, different filename.

### Accepting PRs

When contributors submit skills via `skillet publish`, review:

1. **skill.toml**: valid fields, appropriate categories/tags, version format
2. **SKILL.md**: clear instructions, no dangerous patterns
3. **Safety scan**: `skillet validate path/to/skill` (exit code 2 = danger)
4. **Extra files**: scripts should be safe, references should be relevant
5. **MANIFEST.sha256**: generated by `skillet pack`, content hashes match

### npm-style Repository Bridging

Skillet can read skills from npm-style repos where skills live under a
`skills/` subdirectory. Use `--subdir skills` when serving:

```bash
skillet --registry path/to/npm-repo --subdir skills
```

### Multi-Registry

Users can aggregate multiple registries. First-match-wins on name collision:

```bash
skillet search "*" --registry ./primary --registry ./secondary
skillet --registry ./primary --remote https://github.com/org/skills.git
```

### Hosting

Registries are git repos. Host anywhere git is accessible:
- GitHub / GitLab / Bitbucket (public or private)
- Self-hosted git servers
- Any URL that `git clone` can reach

No special server infrastructure needed. Skillet clones the repo and
indexes it locally.
